syntax = "proto3";
package Protocol;

import "Enum.proto";
import "Struct.proto";

//message C_LOGIN
//{
//	string id = 1;
//	string password = 2;
//}
//
//message S_LOGIN
//{
//	bool success = 1;
//	repeated Player players = 2; 
//}

// message C_SIGNUP
// {
// 	string id = 1;
// 	string password = 2;
// }

// 
// message S_SIGNUP
// {
// 	bool success = 1;
// }


message C_ENTER_GAME
{
	// 언리얼에서 스폰될 때 그 위치를 보낸다.
	ObjectInfo player = 1;
}

// 
message S_ENTER_GAME
{
	// valid한지 체크하고 아니라면 valid한 위치에서 스폰하도록 변경한다.
	ObjectInfo player = 1;
}

message C_CHAT
{
	string msg = 1;
}

message S_CHAT
{
	uint64 playerId = 1;
	string msg = 2;
}

message C_SPAWN
{
}

message S_SPAWN
{
	uint64 playerId = 1;
	ObjectInfo object = 2;
}

// 플레이어가 연결을 끊었을 경우
message C_LEAVE_GAME
{
	// 현재 위치를 보낸다.
	ObjectInfo leavePlayer = 1;
}

message S_DESPAWN
{
	// 나간 사람에 대한 정보를 나가지 않은 전부에게 전송한다.
	uint64 playerId = 1;
	ObjectInfo player = 2;
}

message C_MOVE
{
	uint64 playerId = 1;
	PosInfo posInfo = 2;
}

message S_MOVE
{
	uint64 playerId = 1;
	PosInfo posInfo = 2;
}

